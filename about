1:1 대화 / 1:N 대화를 지원하는 웹서비스

대화 중에 이미지나 파일을 공유할 수 있다. https://soomgo.com/ (참고사이트)

회원가입/로그인/ (예전에 사용한거 갖다 붙여줭 재활용하는데 Mongoose 로 바꾸자!)

220802
 /chats/index
    채팅방을 나타내는 곳.


220803
 채팅방 입장 시 WS로 입장알려주기

 기능 추가
   (이미 참여한 채팅방만 모아서 볼 수 있는 기능
   -> Room에서 joiner에 로그인한 아이디가 있는 데이터만 추출
         {joiner : {$all :["이혜주"]}}

   아직 참여하지않은 방)


   (채팅방 나가기 
   -> Room 정보 찾아서 그녀석의 joiner 유저 아이디를 빼주면 된다.)

   대화입장했을 때 시작시간에 맞춰서 하기

220804
 +파일 업로드(form multer사용)       (랑... 그 업로드 된걸 상대방이 다운 받을 수 있게... )
 message 컬렉션을 활용하는 방안으로 접근
   1안 #
    - url 이라는 필드를 추가해서 파일 업로드가 될때에는 content가 아니라 url이라는 필드에 저장
       => 클라이언트 쪽에서 렌더링을 할 때..
            만약 content가 있으면 메시지라고 생각하고 그게 아니면 url을 사용한다.

   2안 # (내가 생각하기에는 2안이 나중에 대화랑 파일을 구분해서 표출할 때 좋을듯)
    - data 추가해서 일반 채팅은 data="chat"이라고 설정해서 content에 저장
                   파일은  data="file" 이라고 설정해서 content에 저장한다.
       => 클라이언트 렌더링을 할 때
            data가 머냐에 따라서 일반 채팅 혹은 img src로 할 수 있을 듯.? 

 +참여한 방에서 안 읽은 메시지가 있음을 알려주고 싶다면?
   1안 #
     - 마지막 확인 시간을 추가로 관리
   
   2안 #
     - 메세지를 읽은 사람을 추가로 관리